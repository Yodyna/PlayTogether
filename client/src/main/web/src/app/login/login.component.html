<div id="container">
  <div id="control">
    <div id="controlNavigationButtons">
      <button type="button" (click)="isRegisterForm()" class="btn" [ngClass]="{'btn-primary': !isLogin}">Zarejestruj
        konto</button>
      <button type="button" (click)="isLoginForm()" class="btn" [ngClass]="{'btn-primary': isLogin}">Logowanie</button>
    </div>
    <div *ngIf="isLogin == true; then loginFormView; else registerFormView"> </div>
  </div>
  <ng-template #loginFormView>
    <div *ngIf="alert.isAlert" class="alert" [ngClass]="alert.kindOfAlert" role="alert">
      {{ alert.alertMessage }}
    </div>
    <form name="loginForm" [formGroup]="loginForm" id="login" (ngSubmit)="login()">
      <div class="form-group">
        <div class="input-group mb-2">
          <div class="input-group-prepend">
            <div style="background: #487eb0" class="input-group-text text-light">
              <fa-icon [icon]="iconUser"></fa-icon>
            </div>
          </div>
          <input name="field1" type="text" class="form-control" id="inlineFormInputGroup"
            placeholder="Podaj nazwę użytkownika" formControlName="username"
            [ngClass]="{'is-invalid': loginForm.get('username').touched && loginForm.get('username').invalid}">
          <div *ngIf="loginForm.get('username').touched && loginForm.get('username').invalid" class="invalid-feedback">
            <div *ngIf="loginForm.get('username').errors.required">Nazwa użytkownika jest wymagana</div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="input-group mb-2">
          <div class="input-group-prepend">
            <div style="background: #487eb0" class="input-group-text text-light">
              <i class="fa fa-key"></i>
            </div>
          </div>
          <input type="password" class="form-control" id="inlineFormInputGroup" placeholder="Hasło"
            formControlName="password"
            [ngClass]="{'is-invalid': loginForm.get('password').touched && loginForm.get('password').invalid}">
          <div *ngIf="loginForm.get('password').touched && loginForm.get('password').invalid" class="invalid-feedback">
            <div *ngIf="loginForm.get('password').errors.required">Hasło użytkownika jest wymagane</div>
          </div>
        </div>
      </div>
      <button type="submit" class="btn text-light" style="background: #487eb0"
        [disabled]="!loginForm.valid">Zaloguj</button>
    </form>
  </ng-template>

  <ng-template #registerFormView>
    <div *ngIf="alert.isAlert" class="alert" [ngClass]="alert.kindOfAlert" role="alert">
      {{ alert.alertMessage }}
    </div>
    <form name='registerForm' [formGroup]="registerForm" id="register" (ngSubmit)="register()">
      <div class="form-group">
        <div class="input-group mb-2">
          <div class="input-group-prepend">
            <div style="background: #487eb0" class="input-group-text text-light">
              <fa-icon [icon]="iconUser"></fa-icon>
            </div>
          </div>
          <input type="text" class="form-control" id="exampleInputUsername" placeholder="Podaj nazwę użytkownika"
            formControlName="username"
            [ngClass]="{'is-invalid': registerForm.get('username').touched && registerForm.get('username').invalid}">
          <div *ngIf="registerForm.get('username').touched && registerForm.get('username').invalid"
            class="invalid-feedback">
            <div *ngIf="registerForm.get('username').errors.required">Nazwa użytkownika jest wymagana</div>
            <div *ngIf="registerForm.get('username').errors.minlength">Nazwa użytkownika musi mieć przynajmniej 5 znaków
            </div>
          </div>
        </div>
      </div>
      <div class="form-group" formGroupName="userDetail">
        <div class="input-group mb-2">
          <div class="input-group-prepend">
            <div style="background: #487eb0" class="input-group-text text-light">
              <fa-icon [icon]="iconEmail"></fa-icon>
            </div>
          </div>
          <input type="text" class="form-control" id="exampleInputEmail" placeholder="e-mail" formControlName="email"
            [ngClass]="{'is-invalid': registerForm.get('userDetail').get('email').touched && registerForm.get('userDetail').get('email').invalid}">
          <div
            *ngIf="registerForm.get('userDetail').get('email').touched && registerForm.get('userDetail').get('email').invalid"
            class="invalid-feedback">
            <div *ngIf="registerForm.get('userDetail').get('email').errors.required">E-mail jest wymagany</div>
            <div *ngIf="registerForm.get('userDetail').get('email').errors.email">Należy podać poprawny e-mail</div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="input-group mb-2">
          <div class="input-group-prepend">
            <div style="background: #487eb0" class="input-group-text text-light">
              <i class="fa fa-key"></i>
            </div>
          </div>
          <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Hasło"
            formControlName="password"
            [ngClass]="{'is-invalid': registerForm.get('password').touched && registerForm.get('password').invalid}">
          <div *ngIf="registerForm.get('password').touched && registerForm.get('password').invalid"
            class="invalid-feedback">
            <div *ngIf="registerForm.get('password').errors.required">Hasło użytkownika jest wymagane</div>
            <div *ngIf="registerForm.get('password').errors.minlength">Hasło użytkownika musi mieć przynajmniej 5 znaków
            </div>
          </div>
        </div>
      </div>
      <button type="submit" class="btn text-light" style="background: #487eb0"
        [disabled]="!registerForm.valid">Zarejestruj konto</button>
    </form>
  </ng-template>
</div>